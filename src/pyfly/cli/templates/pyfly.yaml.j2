pyfly:
  app:
    name: {{ name }}
{% if archetype != "library" %}
    module: {{ package_name }}.main:app
{% endif %}

{% if has_web or archetype in ("web-api", "hexagonal", "core") %}
  web:
    port: 8080
{% endif %}

  logging:
    level:
      root: INFO
{% if has_data %}

  data:
    datasource:
      url: sqlite+aiosqlite:///{{ package_name }}.db
{% endif %}
{% if has_cache %}

  cache:
    type: memory
    ttl: 300
    # Redis (production — uncomment and install pyfly[redis])
    # type: redis
    # redis:
    #   url: redis://localhost:6379/0
{% endif %}
{% if has_eda %}

  eda:
    type: memory
    # Kafka (production — uncomment and install pyfly[kafka])
    # kafka:
    #   bootstrap-servers: localhost:9092
{% endif %}
{% if has_security %}

  security:
    jwt:
      secret: change-me-in-production
      expiration: 3600
{% endif %}
{% if has_observability %}

  observability:
    metrics:
      enabled: true
    tracing:
      enabled: true
{% endif %}
