"""Application services â€” use-case implementations."""

from __future__ import annotations

from pyfly.container import service

from {{ package_name }}.domain.models import Item
from {{ package_name }}.infrastructure.adapters.persistence import InMemoryItemRepository


@service
class ItemService:
    """Implements the inbound ports for item management."""

    def __init__(self, repository: InMemoryItemRepository) -> None:
        self._repository = repository

    def create(self, name: str, description: str) -> Item:
        item = Item(name=name, description=description)
        self._repository.save(item)
        return item

    def get(self, item_id: str) -> Item:
        return self._repository.find_by_id(item_id)

    def list_all(self) -> list[Item]:
        return self._repository.find_all()

    def delete(self, item_id: str) -> None:
        self._repository.delete(item_id)
